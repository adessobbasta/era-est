<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L'ANTRO DEL VIANDANTE</title>
    <style>
        :root {
            --bg-color: #0d0d0d;
            --panel-bg: #1a1a1a;
            --text-color: #d1c7a7; /* Color pergamena antica */
            --accent: #8b0000; /* Rosso scuro */
            --border: #333;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Georgia', serif;
            margin: 0;
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        /* Pannello Sinistro: Statistiche */
        #sidebar {
            width: 250px;
            background: var(--panel-bg);
            border-right: 2px solid var(--border);
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .stat-box {
            border: 1px solid var(--accent);
            padding: 10px;
            background: rgba(0,0,0,0.3);
        }

        /* Area Centrale: Diario di Gioco */
        #main-game {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            padding: 40px;
            overflow-y: auto;
            background: radial-gradient(circle, #1a1a1a 0%, #0d0d0d 100%);
        }

        #log {
            font-size: 1.2rem;
            line-height: 1.6;
            max-width: 700px;
            margin: 0 auto;
        }

        /* Pannello Destro: Azioni */
        #actions {
            width: 300px;
            background: var(--panel-bg);
            border-left: 2px solid var(--border);
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        button {
            background: transparent;
            border: 1px solid var(--text-color);
            color: var(--text-color);
            padding: 12px;
            cursor: pointer;
            font-family: 'Georgia', serif;
            transition: 0.3s;
            text-align: left;
        }

        button:hover {
            background: var(--accent);
            color: white;
            border-color: var(--accent);
        }

        h2, h3 { color: var(--accent); text-transform: uppercase; letter-spacing: 2px; }
        .sep { height: 2px; background: var(--accent); margin: 10px 0; }
    </style>
</head>
<body>

<div id="sidebar">
    <h2>Eroe</h2>
    <div class="stat-box">
        <div>NOME: <span id="p-name">???</span></div>
        <div>RUOLO: <span id="p-class">Straniero</span></div>
    </div>
    <h3>Attributi</h3>
    <div class="stat-box">
        <div>VITA: <span id="p-hp">20/20</span></div>
        <div>ORO: <span id="p-gold">10</span></div>
    </div>
</div>

<div id="main-game">
    <div id="log">
        </div>
</div>

<div id="actions">
    <h3>Azioni</h3>
    <div id="button-container">
        </div>
</div>

<script>
    const log = document.getElementById('log');
    const btnContainer = document.getElementById('button-container');

    let p = { name: "Viandante", hp: 20, gold: 10, loc: "start" };

    function write(text) {
        const p = document.createElement('p');
        p.innerHTML = text;
        log.appendChild(p);
        log.scrollTop = log.scrollHeight;
    }

    function setActions(actions) {
        btnContainer.innerHTML = "";
        actions.forEach(a => {
            const btn = document.createElement('button');
            btn.innerText = a.label;
            btn.onclick = a.fn;
            btnContainer.appendChild(btn);
        });
    }

    function start() {
        write("Ti trovi all'ingresso di una locanda dimenticata dalle mappe. Il fumo esce pigro dal camino di pietra. Non ricordi come sei arrivato qui, ma il freddo ti spinge a entrare.");
        setActions([
            { label: "Entra nella Locanda", fn: enterTavern },
            { label: "Esamina i dintorni", fn: lookAround }
        ]);
    }

    function enterTavern() {
        write("<br><b>La porta cigola.</b> All'interno, poche candele illuminano i tavoli di legno massiccio. L'oste ti osserva pulendo un boccale sporco.");
        document.getElementById('p-name').innerText = "Gualtiero";
        setActions([
            { label: "Parla con l'Oste", fn: talkHost },
            { label: "Siediti al tavolo", fn: sitDown }
        ]);
    }

    function lookAround() {
        write("<br>C'è un vecchio avviso logoro sul muro esterno: <i>'Cercasi eroi per la miniera d'argento'</i>.");
    }

    function talkHost() {
        write("<br>L'Oste dice: 'Benvenuto all'Antro. Se hai oro, ho storie da vendere.'");
        setActions([
            { label: "Chiedi della miniera", fn: () => write("<br>'È un posto maledetto,' risponde cupo.") },
            { label: "Compra da bere (-2 Oro)", fn: () => {
                p.gold -= 2;
                document.getElementById('p-gold').innerText = p.gold;
                write("<br>Il liquido scende bruciando. Ti senti più forte.");
            }}
        ]);
    }

    start();
</script>

</body>
</html>
